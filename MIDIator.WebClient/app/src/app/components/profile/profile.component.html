<div [formGroup]="form" *ngIf="this.form != null" class="mdl-grid mdl-grid--no-spacing profile-card">
    <mdl-card mdl-shadow="8" class="mdl-cell mdl-cell--12-col">
        <mdl-card-title>
            <h2 mdl-card-title-text style="display: flex; align-items: center;">
                <!--<span class="zmdi zmdi-caret-up-circle zmdi-hc-2x" style="vertical-align: middle;" mdl-colored="accent"></span>-->
                <!--<button mdl-button mdl-button-type="mini-fab" mdl-shadow="4" mdl-colored="accent" mdl-ripple>
                <span class="zmdi zmdi-caret-up zmdi-hc-lg"></span>-->
                <!--</button> &nbsp;-->
                <span style="vertical-align: middle;" *ngIf="form">{{form.controls.name.value}}</span>
            </h2>
        </mdl-card-title>
        <mdl-card-supporting-text>
            <div class="mdl-grid profile-card-body mdl-grid--no-spacing">
                <div class="mdl-cell--12-col">
                    <div class="mdl-grid mdl-grid--no-spacing">
                        <div class="mdl-cell--3-col">
                            <div class="cell-content">
                                <mdl-textfield type="text" label="Name" floating-label formControlName="name"></mdl-textfield>
                            </div>
                        </div>
                    </div>
                    <div class="mdl-grid">
	                    <div class="mdl-cell--12-col">
		                    <div class="mdl-grid">
								<h4>
									Transformations
								</h4>
			                    <div class="mdl-layout-spacer"></div>
			                    <div class="adjust-right-alignment">
				                    <div class="button-container">
					                    <button type="button" mdl-button mdl-ripple mdl-button-type="icon" class="green">
						                    <span class="zmdi zmdi-caret-up zmdi-hc-lg"></span>
					                    </button>
				                    </div>
			                    </div>
		                    </div>
	                    </div>
                    </div>
                    <hr class="transformation-separator" />
                    <div formArrayName="transformations">
                        <div *ngFor="let transformation of form.controls.transformations.controls; let i=index">
                            <transformation [form]="transformation" (deleteTransformationChange)="deleteTransformation($event)"></transformation>
                            <hr class="transformation-separator" />
                        </div>
                    </div>
                    <div class="dotted-container">
                        <div class="mdl-grid mdl-grid--no-spacing">
                            <div class="mdl-cell--12-col">
                                <div class="mdl-grid mdl-grid--no-spacing">
                                    <button type="button" mdl-button mdl-button-type="fab" mdl-shadow="4" mdl-ripple mdl-colored="accent" (click)="addNewTransformation()" [mdl-tooltip]="'New Transformation'">
                                        <span class="zmdi zmdi-plus zmdi-hc-2x"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mdl-card-supporting-text>
        <mdl-card-menu>
            <button type="button" mdl-button mdl-ripple mdl-button-type="icon" mdl-colored="accent" [mdl-tooltip]="'Click to Disable Realtime Sync'" (click)="disableRealtime()" *ngIf="isRealtimeEnabled()">
                <span class="zmdi zmdi-refresh-sync zmdi-hc-lg"></span>
            </button>
            <button type="button" mdl-button mdl-ripple mdl-button-type="icon" [mdl-tooltip]="'Click to Enable Realtime Sync'" (click)="enableRealtime()" *ngIf="!isRealtimeEnabled()">
                <span class="zmdi zmdi-refresh-sync-off zmdi-hc-lg"></span>
            </button>

            <!--<mdl-switch [(ngModel)]="switchRealtime" [ngModelOptions]="{standalone: true}" mdl-ripple mdl-colored="accent">Realtime</mdl-switch>-->
        </mdl-card-menu>
        <mdl-card-actions mdl-card-border>
            <button type="submit" mdl-button mdl-button-type="raised" mdl-colored="primary" mdl-ripple>
                Save
            </button>
            <button mdl-button mdl-button-type="raised" mdl-ripple>
                Cancel
            </button>
        </mdl-card-actions>
    </mdl-card>
</div>
